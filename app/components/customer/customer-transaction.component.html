<ActionBar title="Mobile Sales" class="action-bar">
    <DockLayout>
        <StackLayout width="33%">
            <DockLayout>
                <StackLayout width="15%" horizontalAlignment="left">
                        <Image src="~/assets/images/iconMS.png" width="100%" height="100%"></Image>
                </StackLayout>
                <StackLayout width="75%">
                        <Label text="Mobile Sales" textAlignment="left" fontSize="20" paddingTop="10%"></Label>
                </StackLayout> 
            </DockLayout>
        </StackLayout>
        <StackLayout width="66%">
        </StackLayout>
    </DockLayout>
</ActionBar>

<GridLayout class="" columns="*, *" rows="*" backgroundColor="white">
    <StackLayout class="customer-content" row="0" col="0">
        <SearchBar hint="Search" (textChange)="onTextChanged($event)" (clear)="onClear($event)" textFieldBackgroundColor="white"></SearchBar>
        <Border borderRadius="8" borderBottomWidth="2" borderTopWidth="2" borderColor="#DE6427" horizontalAlignment="stretch">
            <GridLayout borderRadius="8" class="" columns="*" rows="*" backgroundColor="white">
                <ListView [items]="customerList" class="list-group">
                    <ng-template let-item="item">
                        <StackLayout borderRadius="8" class="item list-group-item" [class.highlight]="selectedCustomer.CustomerNo == item.CustomerNo"
                            (tap)="setSelectedCustomer(item)">
                            <Label [text]="item.CustomerName" class="list-group-item-heading h2"></Label>
                            <StackLayout marginLeft="5%">
                                <Label [text]="item.CustomerNo" class="list-group-item-heading"></Label>
                                <Label [text]="item.City + ' ' + item.State + ' ' + item.ZipCode" class="list-group-item-heading"></Label>
                            </StackLayout>
                        </StackLayout>
                    </ng-template>
                </ListView>
            </GridLayout>
        </Border>
    </StackLayout>
    <StackLayout class="customer-content customer-detail" row="0" col="1">
        <Border borderRadius="8" borderRightWidth="3" borderLeftWidth="3" borderColor="#DE6427" horizontalAlignment="stretch">
            <GridLayout borderRadius="8" class="" columns="*" rows="100, *, 100" backgroundColor="white">
                <Border margin="3%" colSpan="2" borderBottomWidth="2" borderColor="#F7A176" horizontalAlignment="stretch">
                    <StackLayout>
                        <Label [text]="selectedCustomer.CustomerName" class="h1"></Label>
                        <Label [text]="selectedCustomer.CustomerNo" class="list-group-item-heading"></Label>
                    </StackLayout>
                </Border>
                <StackLayout *ngIf="selectedCustomer.CustomerNo != 'Select a customer to view details'" margin="3%" col="0" row="1">
                    <Label text="ADDRESS" class="h2"></Label>
                    <Label [text]="selectedCustomer.City + ' ' + selectedCustomer.State + ' ' + selectedCustomer.ZipCode" class="list-group-item-heading"></Label>
                    <Label [text]="selectedCustomer.AddressLine1" class="list-group-item-heading"></Label>}

                    <Label text="PHONE" class="h2"></Label>
                    <Label [text]="selectedCustomer.TelephoneNo" class="list-group-item-heading"></Label>

                    <Label text="PRIMARY CONTACT" class="h2"></Label>
                    <Label [text]="selectedCustomer.TelephoneNo" class="list-group-item-heading"></Label>

                    <Label text="TERMS" class="h2"></Label>
                    <Label [text]="selectedCustomer.TermsCode" class="list-group-item-heading"></Label>

                    <Label text="SALESREP" class="h2"></Label>
                    <Label [text]="salesRep" class="list-group-item-heading"></Label>
                    <!--
                    <Label text="PRICE LEVEL" class="h2"></Label>
                    <Label [text]="" class="list-group-item-heading"></Label>
                    -->
                </StackLayout>
                <StackLayout *ngIf="selectedCustomer.CustomerNo != 'Select a customer to view details'" margin="3%" row="2" colSpan="2" orientation="horizontal"
                    horizontalAlignment="center">
                    <Button [nsRouterLink]="['/saleOrder', selectedCustomer.CustomerNo, true]" class="option-button" text="Quote"></Button>
                    <Button [nsRouterLink]="['/saleOrder', selectedCustomer.CustomerNo, false]" class="option-button" text="Sales Order"></Button>
                </StackLayout>
            </GridLayout>
        </Border>
    </StackLayout>
</GridLayout>